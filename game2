<!DOCTYPE html> d
<html lang="ka">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ანტი-მანიპულაცია: ვიზუალური ტრენაჟორი</title>
  <style>
    :root {
      --primary-color: #3a7bd5;
      --secondary-color: #00d2ff;
      --text-color: #333;
      --light-color: #f8f9fa;
    }
    
    body {
      font-family: 'Fira Sans', 'Noto Sans Georgian', sans-serif;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      color: var(--text-color);
      padding: 20px;
    }
    
    .container {
      width: 100%;
      max-width: 800px;
      background: white;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }
    
    .scene {
      display: none;
      padding: 25px;
    }
    
    .scene.active {
      display: block;
      animation: fadeIn 0.6s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .scene-image {
      width: 100%;
      height: 250px;
      border-radius: 12px;
      object-fit: cover;
      margin-bottom: 20px;
      border: 3px solid var(--primary-color);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    h2 {
      color: var(--primary-color);
      text-align: center;
      margin-bottom: 15px;
      font-size: 1.8rem;
    }
    
    .options {
      margin: 25px 0;
    }
    
    .option {
      padding: 14px;
      margin: 12px 0;
      background: #ecf0f1;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
    }
    
    .option:hover {
      background: #d6eaf8;
      transform: translateX(5px);
    }
    
    .option-icon {
      width: 30px;
      height: 30px;
      margin-right: 12px;
      background: var(--primary-color);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    
    .selected {
      background: var(--primary-color);
      color: white;
    }
    
    .feedback {
      margin-top: 20px;
      padding: 18px;
      border-radius: 10px;
      display: none;
      animation: fadeIn 0.5s;
    }
    
    .correct {
      background: #e8f5e9;
      border-left: 5px solid #4caf50;
    }
    
    .incorrect {
      background: #ffebee;
      border-left: 5px solid #f44336;
    }
    
    .progress-container {
      background: #f5f5f5;
      padding: 15px 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid var(--primary-color);
    }
    
    .progress-bar {
      height: 12px;
      background: #e0e0e0;
      border-radius: 6px;
      flex-grow: 1;
      margin: 0 15px;
      overflow: hidden;
    }
    
    .progress {
      height: 100%;
      background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
      width: 0%;
      transition: width 0.5s;
    }
    
    .stats {
      display: flex;
      min-width: 120px;
    }
    
    .stat-item {
      margin-left: 15px;
      text-align: center;
    }
    
    .stat-value {
      font-weight: bold;
      font-size: 1.2rem;
      color: var(--primary-color);
    }
    
    .btn {
      padding: 14px 28px;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s;
      display: block;
      margin: 20px auto 10px;
      font-weight: bold;
    }
    
    .btn:hover {
      background: #2a6bc4;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .motivation {
      background: #fffde7;
      padding: 25px;
      border-radius: 12px;
      margin-top: 25px;
      border-left: 5px solid #ffd600;
      text-align: center;
    }
    
    .motivation h3 {
      color: #5d4037;
      margin-top: 0;
      font-size: 1.5rem;
    }
    
    @media (max-width: 600px) {
      .scene-image {
        height: 180px;
      }
      
      .progress-container {
        flex-direction: column;
        padding: 10px;
      }
      
      .progress-bar {
        width: 100%;
        margin: 10px 0;
      }
      
      .stats {
        width: 100%;
        justify-content: space-around;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="progress-container">
      <div class="stat-item">
        <div>სცენა</div>
        <div class="stat-value" id="current-scene">1</div>
      </div>
      
      <div class="progress-bar">
        <div class="progress" id="progress"></div>
      </div>
      
      <div class="stats">
        <div class="stat-item">
          <div>ქულა</div>
          <div class="stat-value" id="score">0</div>
        </div>
        <div class="stat-item">
          <div>დონე</div>
          <div class="stat-value">1</div>
        </div>
      </div>
    </div>

    <!-- სცენა 1 -->
    <div id="scene1" class="scene active">
      <img src="https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?q=80&w=800" alt="Family dinner" class="scene-image">
      <h2>ოჯახური ვახშამი</h2>
      <p>დედა გეუბნება: "თუ კვირას არ მოხვალ, წნევა მეწვება!" რას გააკეთებ?</p>
      
      <div class="options">
        <div class="option" onclick="selectOption(1, 1)">
          <div class="option-icon">ა</div>
          <div>დაუყოვნებლივ დაპირდები, რომ მოხვალ</div>
        </div>
        <div class="option" onclick="selectOption(1, 2)">
          <div class="option-icon">ბ</div>
          <div>პასუხობ: "დედა, მიყვარხარ, მაგრამ სხვა დღეს შევხვდეთ"</div>
        </div>
        <div class="option" onclick="selectOption(1, 3)">
          <div class="option-icon">გ</div>
          <div>ეუბნები: "ეს მანიპულაციაა, მოვალ როცა შემეძლება"</div>
        </div>
      </div>
      
      <div id="feedback1" class="feedback">
        <p id="feedback-text1"></p>
        <button class="btn" onclick="nextScene(2)">შემდეგი</button>
      </div>
    </div>

    <!-- სცენა 2 -->
    <div id="scene2" class="scene">
      <img src="https://images.unsplash.com/photo-1542744173-8e7e53415bb0?q=80&w=800" alt="Work situation" class="scene-image">
      <h2>სამუშაო სიტუაცია</h2>
      <p>კოლეგა ამბობს: "შენ გუნდური მოთამაშე ხარ? მაშინ სამუშაოს შემდეგ დარჩები!" რას უპასუხებ?</p>
      
      <div class="options">
        <div class="option" onclick="selectOption(2, 1)">
          <div class="option-icon">ა</div>
          <div>მშვიდად დათანხმდები</div>
        </div>
        <div class="option" onclick="selectOption(2, 2)">
          <div class="option-icon">ბ</div>
          <div>"გუნდურობა ორმხრივი უნდა იყოს. მოდი განვიხილოთ ვადები"</div>
        </div>
        <div class="option" onclick="selectOption(2, 3)">
          <div class="option-icon">გ</div>
          <div>"ეს მანიპულაციაა, დროზე დავდივარ"</div>
        </div>
      </div>
      
      <div id="feedback2" class="feedback">
        <p id="feedback-text2"></p>
        <button class="btn" onclick="nextScene(3)">შემდეგი</button>
      </div>
    </div>

    <!-- სცენა 3 -->
    <div id="scene3" class="scene">
      <img src="https://images.unsplash.com/photo-1529254479751-fbacb4c7d1c1?q=80&w=800" alt="Romantic relationship" class="scene-image">
      <h2>რომანტიკული ურთიერთობა</h2>
      <p>პარტნიორი გეუბნება: "თუ ნამდვილად მიყვარხარ, 1000 ლარს მათხოვებ". როგორ უპასუხებ?</p>
      
      <div class="options">
        <div class="option" onclick="selectOption(3, 1)">
          <div class="option-icon">ა</div>
          <div>ფულს მისცემ, რომ არ დააწყენინო</div>
        </div>
        <div class="option" onclick="selectOption(3, 2)">
          <div class="option-icon">ბ</div>
          <div>"სიყვარული ფულით არ იზომება. მოდი განვიხილოთ შენი სიტუაცია"</div>
        </div>
        <div class="option" onclick="selectOption(3, 3)">
          <div class="option-icon">გ</div>
          <div>"ეს შანტაჟია, ფულს არ მოგცემ"</div>
        </div>
      </div>
      
      <div id="feedback3" class="feedback">
        <p id="feedback-text3"></p>
        <button class="btn" onclick="nextScene(4)">შემდეგი</button>
      </div>
    </div>

    <!-- სცენა 4 -->
    <div id="scene4" class="scene">
      <img src="https://images.unsplash.com/photo-1506869640319-fe1a24fd76dc?q=80&w=800" alt="Friendship" class="scene-image">
      <h2>მეგობრული ურთიერთობა</h2>
      <p>მეგობარი გეუბნება: "არ გინდა რომ ვიწუნო? მაშინ ეს საქმე შენ გააკეთე!" რას მოიმოქმედებ?</p>
      
      <div class="options">
        <div class="option" onclick="selectOption(4, 1)">
          <div class="option-icon">ა</div>
          <div>მის მოვალეობებს იტვირთავ</div>
        </div>
        <div class="option" onclick="selectOption(4, 2)">
          <div class="option-icon">ბ</div>
          <div>"რჩევას მოგცემ, მაგრამ საქმე შენ გააკეთე"</div>
        </div>
        <div class="option" onclick="selectOption(4, 3)">
          <div class="option-icon">გ</div>
          <div>"ჩემით მანიპულირებას ცდილობ"</div>
        </div>
      </div>
      
      <div id="feedback4" class="feedback">
        <p id="feedback-text4"></p>
        <button class="btn" onclick="nextScene(5)">შემდეგი</button>
      </div>
    </div>

    <!-- სცენა 5 -->
    <div id="scene5" class="scene">
      <img src="https://images.unsplash.com/photo-1601918774946-25832a4be0d6?q=80&w=800" alt="Neighbor request" class="scene-image">
      <h2>მეზობლის მოთხოვნა</h2>
      <p>მეზობელი ამბობს: "შენ კეთილი ადამიანი ხარ, ამიტომ ჩემი შვილი შენთან ერთად სკოლაში წავა". რას უთხრათ?</p>
      
      <div class="options">
        <div class="option" onclick="selectOption(5, 1)">
          <div class="option-icon">ა</div>
          <div>დათანხმდებით</div>
        </div>
        <div class="option" onclick="selectOption(5, 2)">
          <div class="option-icon">ბ</div>
          <div>"ეს ჩემი პასუხისმგებლობა არ არის, მაგრამ შემთხვევით დაგეხმარები"</div>
        </div>
        <div class="option" onclick="selectOption(5, 3)">
          <div class="option-icon">გ</div>
          <div>"არ გამიკეთებინებს მსგავსი მოთხოვნები"</div>
        </div>
      </div>
      
      <div id="feedback5" class="feedback">
        <p id="feedback-text5"></p>
        <button class="btn" onclick="nextScene(6)">შემდეგი</button>
      </div>
    </div>

    <!-- სცენა 6 (ფინალი) -->
    <div id="scene6" class="scene">
      <img src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?q=80&w=1000" alt="Success" class="scene-image">
      <h2>თამაშის დასრულება! 🏆</h2>
      <p>გილოცავთ! თქვენ დააგროვეთ <span id="final-score">0</span> ქულა 20-დან.</p>
      
      <div id="final-feedback"></div>
      
      <div class="motivation">
        <h3>✨ თქვენი წარმატება შესანიშნავია!</h3>
        <p>ყოველი სწორი პასუხი - ეს არის თქვენი პირადი საზღვრების გაძლიერება. გახსოვდეთ:</p>
        <ul>
          <li>თქვენ გაქვთ უფლება თქვათ "არა" ბოდიშის გარეშე</li>
          <li>სხვისი ემოციები არ არის თქვენი პასუხისმგებლობა</li>
          <li>ყოველ დღეს ვარჯიშით უკეთესს გახდებით</li>
        </ul>
        <p>გააგრძელეთ თქვენი გზა თავდაჯერებულ ადამიანად!</p>
      </div>
      
      <button class="btn" onclick="restartGame()">თავიდან დაწყება</button>
      <button class="btn" style="background: #8b4513;" onclick="location.href='menu.html'">მთავარი მენიუ</button>
    </div>
  </div>

  <script>
    let currentScene = 1;
    let score = 0;
    const correctAnswers = {
      1: 2, 2: 2, 3: 2, 4: 2, 5: 2
    };
    
    const feedbacks = {
      1: {
        1: "❌ თქვენ დაემორჩილეთ მანიპულაციას. დედა გააგრძელებს ამ მეთოდის გამოყენებას.",
        2: "✅ სწორად! თქვენ შეინარჩუნეთ საზღვრები კონფლიქტის გარეშე.",
        3: "⚠️ სიმართლე, მაგრამ შეიძლება უხეშად ჟღერდეს. შეეცადეთ უფრო რბილად ჩამოაყალიბოთ."
      },
      2: {
        1: "❌ თქვენ ხელი შეუწყობთ მანიპულატორის ქცევას.",
        2: "✅ შესანიშნავი! გამოხატეთ თანამშრომლობის ნამდვილი არსი.",
        3: "⚠️ სწორია, მაგრამ შეიძლება დაემატოს კონსტრუქციული შეთავაზება."
      },
      3: {
        1: "❌ ეს კლასიკური შანტაჟია სიყვარულის გამოცდის სახით.",
        2: "✅ შესანიშნავი! გამოყავით ემოციები და მატერიალური საკითხები.",
        3: "⚠️ სწორი, მაგრამ შეიძლება კონფლიქტი გამოიწვიოს."
      },
      4: {
        1: "❌ მეგობარი გააგრძელებს თქვენზე საქმის გადაცემას.",
        2: "✅ სწორად! აჩვენეთ მხარდაჭერა, მაგრამ არ აიღეთ პასუხისმგებლობა.",
        3: "⚠️ ჭეშმარიტი, მაგრამ შეიძლება უფრო დიპლომატიურად ჩამოაყალიბოთ."
      },
      5: {
        1: "❌ თქვენ დათანხმდით არასამართლიან მოთხოვნას.",
        2: "✅ სწორად! აჩვენეთ სოლიდარობა საკუთარი საზღვრების დაცვით.",
        3: "⚠️ მართალი ხართ, მაგრამ შეიძლება უფრო მეგობრულად."
      }
    };

    function selectOption(sceneNum, optionNum) {
      document.querySelectorAll(`#scene${sceneNum} .option`).forEach(opt => {
        opt.classList.remove('selected');
      });
      
      event.target.closest('.option').classList.add('selected');
      
      const feedbackDiv = document.getElementById(`feedback${sceneNum}`);
      const feedbackText = document.getElementById(`feedback-text${sceneNum}`);
      
      feedbackDiv.style.display = 'block';
      feedbackText.textContent = feedbacks[sceneNum][optionNum];
      
      if (optionNum === correctAnswers[sceneNum]) {
        feedbackDiv.className = 'feedback correct';
        score += 4;
      } else if (optionNum === 3) {
        feedbackDiv.className = 'feedback correct';
        score += 2;
      } else {
        feedbackDiv.className = 'feedback incorrect';
      }
    }

    function nextScene(nextNum) {
      document.getElementById(`scene${currentScene}`).classList.remove('active');
      document.getElementById(`scene${nextNum}`).classList.add('active');
      currentScene = nextNum;
      
      document.getElementById('progress').style.width = `${(nextNum-1)*20}%`;
      document.getElementById('current-scene').textContent = nextNum-1;
      document.getElementById('score').textContent = score;
      
      if (nextNum === 6) {
        document.getElementById('final-score').textContent = score;
        let finalFeedback = '';
        if (score >= 16) {
          finalFeedback = '<div class="feedback correct" style="display:block"><p>🎉 ბრწყინვალე შედეგი! თქვენ მშვენივრად ამოიცნობთ მანიპულაციებს და იცავთ საკუთარ საზღვრებს.</p></div>';
        } else if (score >= 10) {
          finalFeedback = '<div class="feedback correct" style="display:block"><p>👍 კარგი შედეგი! თქვენ ხვდებით მანიპულაციებს, მაგრამ ზოგჯერ უნდა ივარჯიშოთ პასუხებში.</p></div>';
        } else {
          finalFeedback = '<div class="feedback incorrect" style="display:block"><p>💡 არის სადავარჯიშო! ყურადღება მიაქციეთ ასერტიული კომუნიკაციის ტექნიკას.</p></div>';
        }
        document.getElementById('final-feedback').innerHTML = finalFeedback;
      }
    }

    function restartGame() {
      currentScene = 1;
      score = 0;
      document.getElementById('progress').style.width = '0%';
      document.getElementById('current-scene').textContent = '1';
      document.getElementById('score').textContent = '0';
      
      document.querySelectorAll('.scene').forEach(scene => {
        scene.classList.remove('active');
        const feedback = scene.querySelector('.feedback');
        if (feedback) {
          feedback.style.display = 'none';
          feedback.className = 'feedback';
        }
        scene.querySelectorAll('.option').forEach(opt => {
          opt.classList.remove('selected');
        });
      });
      
      document.getElementById('scene1').classList.add('active');
    }
  </script>
</body>
</html>