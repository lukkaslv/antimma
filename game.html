<!DOCTYPE html>
<html lang="ka">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>მანიპულაციების წინააღმდეგ ტრენაჟორი</title>
<style>
body { font-family:sans-serif; background:#f0f8ff; padding:20px; color:#2c3e50; }
.container { max-width:600px; margin:0 auto; background:white; padding:20px; border-radius:15px; }
.option { padding:10px; margin:8px 0; background:#ecf0f1; border-radius:8px; cursor:pointer; transition:0.3s; }
.option:hover { background:#d6eaf8; }
.selected { background:#3498db; color:white; }
.feedback { margin-top:15px; padding:10px; border-radius:8px; display:none; }
.correct { background:#d5f5e3; border-left:5px solid #2ecc71; }
.incorrect { background:#fadbd8; border-left:5px solid #e74c3c; }
.progress-bar { height:10px; background:#ecf0f1; border-radius:5px; margin-bottom:15px; overflow:hidden; }
.progress { height:100%; background:#3498db; width:0%; transition:width 0.5s; }
</style>
</head>
<body>
<div class="container">
  <div class="progress-bar"><div class="progress" id="progress"></div></div>
  <div>სცენა: <span id="current-scene">1</span>/<span id="total-scenes">0</span></div>
  <div>ქულა: <span id="score">0</span></div>
  <h2 id="scene-title"></h2>
  <p id="scene-text"></p>
  <div id="options" class="options"></div>
  <div id="feedback" class="feedback"></div>
  <button id="next-btn" onclick="nextScene()" style="display:none;">შემდეგი</button>
</div>

<script>
const scenes = [
  {
    title: "ოჯახური ვახშამი",
    text: "დედა გეუბნება: 'თუ კვირას არ მოხვალ, წნევა მეწვება!' რას გააკეთებ?",
    options: [
      {text:"დაუყოვნებლივ დაპირდები", score:0, feedback:"❌ მანიპულაცია გაიგრძელება."},
      {text:"პასუხობ: 'დედა, მიყვარხარ, მაგრამ სხვა დღეს შევხვდეთ'", score:2, feedback:"✅ სწორად! საზღვრები შენარჩუნებულია."},
      {text:"ეუბნები: 'ეს მანიპულაციაა, მოვალ როცა შემეძლება'", score:1, feedback:"⚠️ სიმართლეა, მაგრამ შესაძლოა უხეში ჟღერდეს."}
    ]
  },
  {
    title: "სამუშაო სიტუაცია",
    text: "კოლეგა ამბობს: 'შენ გუნდური მოთამაშე ხარ? მაშინ სამუშაოს შემდეგ დარჩები!' რას უპასუხებ?",
    options: [
      {text:"მშვიდად დათანხმდები", score:0, feedback:"❌ ხელი შეუწყობთ მანიპულაციას."},
      {text:"გუნდურობა ორმხრივი უნდა იყოს. მოდი განვიხილოთ ვადები", score:2, feedback:"✅ შესანიშნავი! გამოხატეთ თანამშრომლობა."},
      {text:"ეს მანიპულაციაა, დროზე დავდივარ", score:1, feedback:"⚠️ სწორი, მაგრამ შეიძლება უფრო კონსტრუქციულად."}
    ]
  }
  // можно добавить остальные сцены сюда
];

let current = 0;
let score = 0;

document.getElementById("total-scenes").textContent = scenes.length;

function showScene() {
  const scene = scenes[current];
  document.getElementById("scene-title").textContent = scene.title;
  document.getElementById("scene-text").textContent = scene.text;
  
  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";
  
  scene.options.forEach((opt, idx) => {
    const div = document.createElement("div");
    div.className = "option";
    div.textContent = opt.text;
    div.onclick = () => selectOption(idx);
    optionsDiv.appendChild(div);
  });
  
  document.getElementById("feedback").style.display = "none";
  document.getElementById("next-btn").style.display = "none";
}

function selectOption(idx) {
  const scene = scenes[current];
  document.querySelectorAll(".option").forEach(o => o.classList.remove("selected"));
  document.querySelectorAll(".option")[idx].classList.add("selected");
  
  document.getElementById("feedback").style.display = "block";
  document.getElementById("feedback").textContent = scene.options[idx].feedback;
  
  score += scene.options[idx].score;
  document.getElementById("score").textContent = score;
  document.getElementById("next-btn").style.display = "inline-block";
  
  document.getElementById("progress").style.width = `${((current+1)/scenes.length)*100}%`;
}

function nextScene() {
  current++;
  if(current >= scenes.length){
    document.getElementById("scene-title").textContent = "დასკვნა";
    document.getElementById("scene-text").textContent = `თქვენ დააგროვეთ ${score} ქულა ${scenes.length*2}-დან.`;
    document.getElementById("options").innerHTML = "";
    document.getElementById("feedback").style.display = "none";
    document.getElementById("next-btn").style.display = "none";
    document.getElementById("progress").style.width = "100%";
    return;
  }
  showScene();
}

showScene();
</script>
</body>
</html>
