<!DOCTYPE html>
<html lang="ka">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>áƒ›áƒáƒœáƒ˜áƒáƒ£áƒšáƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ¬áƒ˜áƒœáƒáƒáƒ¦áƒ›áƒ“áƒ”áƒ’ áƒ¢áƒ áƒ”áƒœáƒáƒŸáƒáƒ áƒ˜</title>
  <style>
    :root {
      --primary: #3498db;
      --secondary: #2c3e50;
      --success: #2ecc71;
      --warning: #f39c12;
      --danger: #e74c3c;
      --light-bg: #f0f8ff;
      --card-bg: #ffffff;
      --text: #2c3e50;
      --border: #e0e7ff;
    }
    
    .dark-mode {
      --light-bg: #1a1a2e;
      --card-bg: #16213e;
      --text: #e6e6ff;
      --border: #2d4059;
    }

    body {
      font-family: 'Fira Sans', 'Noto Sans Georgian', sans-serif;
      background: var(--light-bg);
      padding: 20px;
      color: var(--text);
      line-height: 1.6;
      transition: background 0.3s, color 0.3s;
    }
    
    .theme-switch {
      position: absolute;
      top: 20px;
      right: 20px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      z-index: 100;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background: var(--card-bg);
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      position: relative;
      border: 1px solid var(--border);
    }
    
    .scene {
      display: none;
      animation: fadeIn 0.5s;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .scene.active {
      display: block;
    }
    
    h2 {
      color: var(--primary);
      border-bottom: 2px solid var(--primary);
      padding-bottom: 10px;
    }
    
    .scene-header {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
      gap: 15px;
    }
    
    .scene-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: #e3f2fd;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      flex-shrink: 0;
    }
    
    .options {
      margin: 25px 0;
    }
    
    .option {
      padding: 12px;
      margin: 10px 0;
      background: #ecf0f1;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
      border-left: 4px solid transparent;
    }
    
    .option:hover {
      background: #d6eaf8;
      transform: translateX(5px);
    }
    
    .selected {
      background: #3498db;
      color: white;
    }
    
    .correct-answer {
      border-left: 4px solid var(--success);
      background: #d5f5e3;
    }
    
    .feedback {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      display: none;
    }
    
    .correct {
      background: #d5f5e3;
      border-left: 5px solid var(--success);
    }
    
    .incorrect {
      background: #fadbd8;
      border-left: 5px solid var(--danger);
    }
    
    .progress-container {
      margin-bottom: 30px;
    }
    
    .progress-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 5px;
    }
    
    .progress-bar {
      height: 10px;
      background: #ecf0f1;
      border-radius: 5px;
      overflow: hidden;
    }
    
    .progress {
      height: 100%;
      background: var(--primary);
      width: 0%;
      transition: width 0.5s;
    }
    
    .progress-dots {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }
    
    .progress-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #bdc3c7;
      cursor: pointer;
    }
    
    .progress-dot.active {
      background: var(--primary);
      transform: scale(1.3);
    }
    
    .progress-dot.visited {
      background: #86c5f8;
    }
    
    .stats {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      background: #e3f2fd;
      padding: 10px 15px;
      border-radius: 8px;
    }
    
    .btn {
      padding: 12px 25px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    
    .btn:hover {
      background: #2980b9;
      transform: translateY(-2px);
    }
    
    .btn:disabled {
      background: #bdc3c7;
      cursor: not-allowed;
    }
    
    .btn-secondary {
      background: #ecf0f1;
      color: var(--text);
    }
    
    .btn-secondary:hover {
      background: #d6dbdf;
    }
    
    .feedback-buttons {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }
    
    .motivation {
      background: #fffacd;
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
      border-left: 5px solid #ffd700;
    }
    
    .achievements {
      margin-top: 25px;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 10px;
    }
    
    .badges {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    
    .badge {
      padding: 8px 12px;
      background: #e9ecef;
      border-radius: 20px;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .badge.acquired {
      background: #d4edda;
      border: 1px solid #c3e6cb;
    }
    
    .tooltip {
      position: relative;
      display: inline-block;
      margin-left: 5px;
      cursor: help;
    }
    
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 250px;
      background: var(--text);
      color: white;
      text-align: center;
      border-radius: 6px;
      padding: 10px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 14px;
    }
    
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
    
    .manipulation-info {
      background: #e8f4fc;
      padding: 15px;
      border-radius: 8px;
      margin: 15px 0;
      border-left: 4px solid var(--primary);
    }
    
    @media (max-width: 600px) {
      .container {
        padding: 20px 15px;
      }
      
      .feedback-buttons {
        flex-direction: column;
      }
      
      .btn {
        width: 100%;
        justify-content: center;
      }
      
      .scene-header {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
  <button class="theme-switch" id="themeToggle">ğŸŒ™</button>
  
  <div class="container">
    <div class="progress-container">
      <div class="progress-header">
        <div>áƒ¡áƒªáƒ”áƒœáƒ: <span id="current-scene">1</span>/10</div>
        <div>áƒ¥áƒ£áƒšáƒ: <span id="score">0</span> <span class="tooltip">?
          <span class="tooltiptext">+2 áƒ¥áƒ£áƒšáƒ áƒ¡áƒ¬áƒáƒ áƒ˜ áƒáƒáƒ¡áƒ£áƒ®áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡, +1 áƒ¥áƒ£áƒšáƒ áƒœáƒáƒ¬áƒ˜áƒšáƒáƒ‘áƒ áƒ˜áƒ• áƒ¡áƒ¬áƒáƒ áƒ˜ áƒáƒáƒ¡áƒ£áƒ®áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡</span>
        </span></div>
      </div>
      
      <div class="progress-bar">
        <div class="progress" id="progress"></div>
      </div>
      
      <div class="progress-dots" id="progressDots"></div>
    </div>

    <!-- áƒ¡áƒªáƒ”áƒœáƒ 1 -->
    <div id="scene1" class="scene active">
      <div class="scene-header">
        <div class="scene-icon">ğŸ‘ª</div>
        <div>
          <h2>áƒáƒ¯áƒáƒ®áƒ£áƒ áƒ˜ áƒ•áƒáƒ®áƒ¨áƒáƒ›áƒ˜</h2>
          <p>áƒ“áƒ”áƒ“áƒ áƒ’áƒ”áƒ£áƒ‘áƒœáƒ”áƒ‘áƒ: "áƒ—áƒ£ áƒ™áƒ•áƒ˜áƒ áƒáƒ¡ áƒáƒ  áƒ›áƒáƒ®áƒ•áƒáƒš, áƒ¬áƒœáƒ”áƒ•áƒ áƒ›áƒ”áƒ¬áƒ•áƒ”áƒ‘áƒ!" áƒ áƒáƒ¡ áƒ’áƒáƒáƒ™áƒ”áƒ—áƒ”áƒ‘?</p>
        </div>
      </div>
      
      <div class="manipulation-info">
        <strong>áƒ›áƒáƒœáƒ˜áƒáƒ£áƒšáƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ:</strong> áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ áƒ“áƒáƒ¡áƒáƒ™áƒ˜áƒ¡áƒ áƒáƒ“
      </div>
      
      <div class="options">
        <div class="option" onclick="selectOption(1, 1)">
          <span>1</span> áƒ“áƒáƒ£áƒ§áƒáƒ•áƒœáƒ”áƒ‘áƒšáƒ˜áƒ• áƒ“áƒáƒáƒ˜áƒ áƒ“áƒ”áƒ‘áƒ˜, áƒ áƒáƒ› áƒ›áƒáƒ®áƒ•áƒáƒš
        </div>
        <div class="option" onclick="selectOption(1, 2)">
          <span>2</span> áƒáƒáƒ¡áƒ£áƒ®áƒáƒ‘: "áƒ“áƒ”áƒ“áƒ, áƒ›áƒ˜áƒ§áƒ•áƒáƒ áƒ®áƒáƒ , áƒ›áƒáƒ’áƒ áƒáƒ› áƒ¡áƒ®áƒ•áƒ áƒ“áƒ¦áƒ”áƒ¡ áƒ¨áƒ”áƒ•áƒ®áƒ•áƒ“áƒ”áƒ—"
        </div>
        <div class="option" onclick="selectOption(1, 3)">
          <span>3</span> áƒ”áƒ£áƒ‘áƒœáƒ”áƒ‘áƒ˜: "áƒ”áƒ¡ áƒ›áƒáƒœáƒ˜áƒáƒ£áƒšáƒáƒªáƒ˜áƒáƒ, áƒ›áƒáƒ•áƒáƒš áƒ áƒáƒªáƒ áƒ¨áƒ”áƒ›áƒ”áƒ«áƒšáƒ”áƒ‘áƒ"
        </div>
      </div>
      
      <div id="feedback1" class="feedback">
        <p id="feedback-text1"></p>
        <div class="feedback-buttons">
          <button class="btn" onclick="nextScene(2)">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜</button>
          <button class="btn btn-secondary" onclick="showTip(1)">áƒ áƒ©áƒ”áƒ•áƒ</button>
        </div>
      </div>
    </div>

    <!-- áƒ¡áƒªáƒ”áƒœáƒ 2 -->
    <div id="scene2" class="scene">
      <div class="scene-header">
        <div class="scene-icon">ğŸ’¼</div>
        <div>
          <h2>áƒ¡áƒáƒ›áƒ£áƒ¨áƒáƒ áƒ¡áƒ˜áƒ¢áƒ£áƒáƒªáƒ˜áƒ</h2>
          <p>áƒ™áƒáƒšáƒ”áƒ’áƒ áƒáƒ›áƒ‘áƒáƒ‘áƒ¡: "áƒ¨áƒ”áƒœ áƒ’áƒ£áƒœáƒ“áƒ£áƒ áƒ˜ áƒ›áƒáƒ—áƒáƒ›áƒáƒ¨áƒ” áƒ®áƒáƒ ? áƒ›áƒáƒ¨áƒ˜áƒœ áƒ¡áƒáƒ›áƒ£áƒ¨áƒáƒáƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ“áƒáƒ áƒ©áƒ”áƒ‘áƒ˜!" áƒ áƒáƒ¡ áƒ£áƒáƒáƒ¡áƒ£áƒ®áƒ”áƒ‘?</p>
        </div>
      </div>
      
      <div class="manipulation-info">
        <strong>áƒ›áƒáƒœáƒ˜áƒáƒ£áƒšáƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ:</strong> áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒ–áƒ”áƒ¬áƒáƒšáƒ
      </div>
      
      <div class="options">
        <div class="option" onclick="selectOption(2, 1)">
          <span>1</span> áƒ›áƒ¨áƒ•áƒ˜áƒ“áƒáƒ“ áƒ“áƒáƒ—áƒáƒœáƒ®áƒ›áƒ“áƒ”áƒ‘áƒ˜
        </div>
        <div class="option" onclick="selectOption(2, 2)">
          <span>2</span> "áƒ’áƒ£áƒœáƒ“áƒ£áƒ áƒáƒ‘áƒ áƒáƒ áƒ›áƒ®áƒ áƒ˜áƒ•áƒ˜ áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡. áƒ›áƒáƒ“áƒ˜ áƒ’áƒáƒœáƒ•áƒ˜áƒ®áƒ˜áƒšáƒáƒ— áƒ•áƒáƒ“áƒ”áƒ‘áƒ˜"
        </div>
        <div class="option" onclick="selectOption(2, 3)">
          <span>3</span> "áƒ”áƒ¡ áƒ›áƒáƒœáƒ˜áƒáƒ£áƒšáƒáƒªáƒ˜áƒáƒ, áƒ“áƒ áƒáƒ–áƒ” áƒ“áƒáƒ•áƒ“áƒ˜áƒ•áƒáƒ "
        </div>
      </div>
      
      <div id="feedback2" class="feedback">
        <p id="feedback-text2"></p>
        <div class="feedback-buttons">
          <button class="btn btn-secondary" onclick="prevScene()">áƒ£áƒ™áƒáƒœ</button>
          <button class="btn" onclick="nextScene(3)">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜</button>
        </div>
      </div>
    </div>

    <!-- áƒ¡áƒªáƒ”áƒœáƒ 3-9 Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ¾ -->

    <!-- áƒ¡áƒªáƒ”áƒœáƒ 10 -->
    <div id="scene10" class="scene">
      <h2>áƒ“áƒáƒ¡áƒ™áƒ•áƒœáƒ</h2>
      <p>áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•áƒ—! áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ“áƒáƒáƒ’áƒ áƒáƒ¬áƒ”áƒ— <span id="final-score">0</span> áƒ¥áƒ£áƒšáƒ 20-áƒ“áƒáƒœ.</p>
      <div id="final-feedback"></div>
      
      <div class="motivation">
        <h3>ğŸ’ª áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒáƒ áƒáƒ’áƒ áƒ”áƒ¡áƒ˜ áƒ¨áƒ”áƒ¡áƒáƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ˜áƒ!</h3>
        <p>áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒ¡áƒ¬áƒáƒ áƒ˜ áƒáƒáƒ¡áƒ£áƒ®áƒ˜ - áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒáƒ˜áƒ áƒáƒ“áƒ˜ áƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ«áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ. áƒ’áƒáƒ®áƒ¡áƒáƒ•áƒ“áƒ”áƒ—:</p>
        <ul>
          <li>áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ’áƒáƒ¥áƒ•áƒ— áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ áƒ—áƒ¥áƒ•áƒáƒ— "áƒáƒ áƒ" áƒ‘áƒáƒ“áƒ˜áƒ¨áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ¨áƒ”</li>
          <li>áƒ¡áƒ®áƒ•áƒ˜áƒ¡áƒ˜ áƒ”áƒ›áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜ áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒáƒáƒ¡áƒ£áƒ®áƒ˜áƒ¡áƒ›áƒ’áƒ”áƒ‘áƒšáƒáƒ‘áƒ</li>
          <li>áƒ§áƒáƒ•áƒ”áƒš áƒ“áƒ¦áƒ”áƒ¡ áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ˜áƒ— áƒ£áƒ™áƒ”áƒ—áƒ”áƒ¡áƒ¡ áƒ’áƒáƒ®áƒ“áƒ”áƒ‘áƒ˜áƒ—</li>
        </ul>
        <p>áƒ’áƒáƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”áƒ— áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒ’áƒ–áƒ áƒ—áƒáƒ•áƒ“áƒáƒ¯áƒ”áƒ áƒ”áƒ‘áƒ£áƒš áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒáƒ“!</p>
      </div>
      
      <div class="achievements">
        <h3>áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒ”áƒ‘áƒ˜:</h3>
        <div class="badges">
          <div class="badge" id="badge1">ğŸ¯ áƒ¡áƒªáƒ”áƒœáƒ 1</div>
          <div class="badge" id="badge2">ğŸ›¡ï¸ 5 áƒ“áƒáƒªáƒ•áƒ</div>
          <div class="badge" id="badge3">ğŸ’ª 10 áƒ¥áƒ£áƒšáƒ</div>
          <div class="badge" id="badge4">ğŸ’ áƒ˜áƒ“áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒ—áƒáƒ›áƒáƒ¨áƒ˜</div>
        </div>
      </div>
      
      <button class="btn" onclick="restartGame()" style="margin-top: 20px;">
        ğŸ”„ áƒ—áƒáƒ•áƒ˜áƒ“áƒáƒœ áƒ“áƒáƒ¬áƒ§áƒ”áƒ‘áƒ
      </button>
    </div>
  </div>

  <script>
    let currentScene = 1;
    let score = 0;
    let visitedScenes = new Set([1]);
    const correctAnswers = {
      1: 2, 2: 2, 3: 2, 4: 2, 5: 2, 
      6: 2, 7: 2, 8: 2, 9: 2
    };
    
    const feedbacks = {
      1: {
        1: "âŒ áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ“áƒáƒ”áƒ›áƒáƒ áƒ©áƒ˜áƒšáƒ”áƒ— áƒ›áƒáƒœáƒ˜áƒáƒ£áƒšáƒáƒªáƒ˜áƒáƒ¡. áƒ“áƒ”áƒ“áƒ áƒ’áƒáƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”áƒ‘áƒ¡ áƒáƒ› áƒ›áƒ”áƒ—áƒáƒ“áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒáƒ¡.",
        2: "âœ… áƒ¡áƒ¬áƒáƒ áƒáƒ“! áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ¨áƒ”áƒ˜áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ— áƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒ”áƒ‘áƒ˜ áƒ™áƒáƒœáƒ¤áƒšáƒ˜áƒ¥áƒ¢áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ¨áƒ”.",
        3: "âš ï¸ áƒ¡áƒ˜áƒ›áƒáƒ áƒ—áƒšáƒ”, áƒ›áƒáƒ’áƒ áƒáƒ› áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ£áƒ®áƒ”áƒ¨áƒáƒ“ áƒŸáƒ¦áƒ”áƒ áƒ“áƒ”áƒ¡. áƒ¨áƒ”áƒ”áƒªáƒáƒ“áƒ”áƒ— áƒ£áƒ¤áƒ áƒ áƒ áƒ‘áƒ˜áƒšáƒáƒ“ áƒ©áƒáƒ›áƒáƒáƒ§áƒáƒšáƒ˜áƒ‘áƒáƒ—."
      },
      // ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ†ĞµĞ½Ñ‹ Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ¾
    };

    // Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ¾Ñ‡ĞµĞº Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ°
    function initProgressDots() {
      const container = document.getElementById('progressDots');
      container.innerHTML = '';
      
      for (let i = 1; i <= 10; i++) {
        const dot = document.createElement('div');
        dot.className = 'progress-dot';
        if (i === 1) dot.classList.add('active');
        dot.dataset.scene = i;
        dot.addEventListener('click', () => goToScene(i));
        container.appendChild(dot);
      }
    }

    // ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğº ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¹ ÑÑ†ĞµĞ½Ğµ
    function goToScene(sceneNum) {
      if (sceneNum < 1 || sceneNum > 10) return;
      
      document.getElementById(`scene${currentScene}`).classList.remove('active');
      document.getElementById(`scene${sceneNum}`).classList.add('active');
      currentScene = sceneNum;
      
      updateProgress();
      updateProgressDots();
      
      // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ¿Ğ¾ÑĞµÑ‰ĞµĞ½Ğ½ÑƒÑ ÑÑ†ĞµĞ½Ñƒ
      visitedScenes.add(sceneNum);
    }

    // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¾Ñ‡ĞµĞº Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ°
    function updateProgressDots() {
      const dots = document.querySelectorAll('.progress-dot');
      dots.forEach(dot => {
        const dotScene = parseInt(dot.dataset.scene);
        dot.classList.remove('active', 'visited');
        
        if (dotScene === currentScene) {
          dot.classList.add('active');
        } else if (visitedScenes.has(dotScene)) {
          dot.classList.add('visited');
        }
      });
    }

    // ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞ¼Ñ‹
    function setupThemeToggle() {
      const themeToggle = document.getElementById('themeToggle');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      if (localStorage.getItem('theme') === 'dark' || 
          (localStorage.getItem('theme') === null && prefersDark)) {
        document.body.classList.add('dark-mode');
        themeToggle.textContent = 'â˜€ï¸';
      }
      
      themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        localStorage.setItem('theme', 
          document.body.classList.contains('dark-mode') ? 'dark' : 'light');
        themeToggle.textContent = document.body.classList.contains('dark-mode') ? 'â˜€ï¸' : 'ğŸŒ™';
      });
    }

    // ĞŸĞ¾ĞºĞ°Ğ· Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸
    function showTip(sceneNum) {
      const tipTexts = {
        1: "áƒ›áƒáƒœáƒ˜áƒáƒ£áƒšáƒáƒ¢áƒáƒ áƒ”áƒ‘áƒ˜ áƒ®áƒ¨áƒ˜áƒ áƒáƒ“ áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ”áƒœ áƒ•áƒ˜áƒœáƒáƒáƒ‘áƒ˜áƒ¡ áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ”áƒ‘áƒ¡. áƒ¯áƒáƒ‘áƒ˜áƒ áƒáƒ©áƒ•áƒ”áƒœáƒáƒ— áƒ¡áƒ˜áƒ§áƒ•áƒáƒ áƒ£áƒšáƒ˜, áƒ›áƒáƒ’áƒ áƒáƒ› áƒ“áƒáƒ˜áƒªáƒ•áƒáƒ— áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒ”áƒ‘áƒ˜.",
        2: "áƒ¡áƒáƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ¨áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ áƒœáƒáƒ—áƒšáƒáƒ“ áƒ’áƒáƒ›áƒáƒ®áƒáƒ¢áƒáƒ— áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒšáƒáƒ‘áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒšáƒ˜áƒ›áƒ˜áƒ¢áƒ”áƒ‘áƒ˜.",
        3: "áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ›áƒ˜áƒ”áƒ áƒ˜ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ“áƒáƒ¤áƒ£áƒ«áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜áƒ áƒ¨áƒáƒœáƒ¢áƒáƒŸáƒ–áƒ”, áƒáƒ áƒ˜áƒ¡ áƒ¢áƒáƒ¥áƒ¡áƒ˜áƒ™áƒ£áƒ áƒ˜."
      };
      
      alert(`ğŸ’¡ áƒ áƒ©áƒ”áƒ•áƒ áƒ¡áƒªáƒ”áƒœáƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ ${sceneNum}:\n\n${tipTexts[sceneNum]}`);
    }

    // Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ¾Ğ¿Ñ†Ğ¸Ğ¸ Ñ Ğ¿Ğ¾Ğ´ÑĞ²ĞµÑ‚ĞºĞ¾Ğ¹ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
    function selectOption(sceneNum, optionNum) {
      document.querySelectorAll(`#scene${sceneNum} .option`).forEach(opt => {
        opt.classList.remove('selected');
      });
      
      event.target.classList.add('selected');
      
      const feedbackDiv = document.getElementById(`feedback${sceneNum}`);
      const feedbackText = document.getElementById(`feedback-text${sceneNum}`);
      
      feedbackDiv.style.display = 'block';
      feedbackText.textContent = feedbacks[sceneNum][optionNum];
      
      // ĞŸĞ¾Ğ´ÑĞ²ĞµÑ‚ĞºĞ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
      const correctOption = document.querySelector(
        `#scene${sceneNum} .option:nth-child(${correctAnswers[sceneNum]})`
      );
      correctOption.classList.add('correct-answer');
      
      if (optionNum === correctAnswers[sceneNum]) {
        feedbackDiv.className = 'feedback correct';
        score += 2;
      } else if (optionNum === 3) {
        feedbackDiv.className = 'feedback correct';
        score += 1;
      } else {
        feedbackDiv.className = 'feedback incorrect';
      }
      
      document.getElementById('score').textContent = score;
    }

    // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ°
    function updateProgress() {
      document.getElementById('progress').style.width = `${(currentScene-1)*10}%`;
      document.getElementById('current-scene').textContent = currentScene;
    }

    // ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¹ ÑÑ†ĞµĞ½Ğµ
    function nextScene(nextNum) {
      goToScene(nextNum);
    }

    // ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğº Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰ĞµĞ¹ ÑÑ†ĞµĞ½Ğµ
    function prevScene() {
      if (currentScene > 1) goToScene(currentScene - 1);
    }

    // ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞº Ğ¸Ğ³Ñ€Ñ‹
    function restartGame() {
      currentScene = 1;
      score = 0;
      visitedScenes = new Set([1]);
      
      document.getElementById('progress').style.width = '0%';
      document.getElementById('current-scene').textContent = '1';
      document.getElementById('score').textContent = '0';
      
      document.querySelectorAll('.scene').forEach(scene => {
        scene.classList.remove('active');
        const feedback = scene.querySelector('.feedback');
        if (feedback) {
          feedback.style.display = 'none';
          feedback.className = 'feedback';
        }
        scene.querySelectorAll('.option').forEach(opt => {
          opt.classList.remove('selected', 'correct-answer');
        });
      });
      
      document.getElementById('scene1').classList.add('active');
      updateProgressDots();
      
      // Ğ¡Ğ±Ñ€Ğ¾Ñ Ğ±ĞµĞ¹Ğ´Ğ¶ĞµĞ¹
      document.querySelectorAll('.badge').forEach(badge => {
        badge.classList.remove('acquired');
      });
    }

    // Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ
    window.onload = function() {
      initProgressDots();
      setupThemeToggle();
      
      // ĞŸĞ¾ĞºĞ°Ğ· Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğ½Ğ° Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¼ ÑĞºÑ€Ğ°Ğ½Ğµ
      document.querySelectorAll('.badge').forEach(badge => {
        badge.classList.add('acquired');
      });
    };
  </script>
</body>
</html>